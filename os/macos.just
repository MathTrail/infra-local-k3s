# macOS-specific commands

[macos]
install:
    #!/bin/bash
    set -e
    echo "ðŸ“‹ Checking prerequisites..."
    command -v docker &>/dev/null || { echo "âŒ Install Docker Desktop first"; exit 1; }
    echo "âœ… Docker"

    command -v node &>/dev/null || brew install node
    echo "âœ… Node.js $(node --version)"

    command -v k3d &>/dev/null || brew install k3d
    echo "âœ… k3d"

    command -v just &>/dev/null || brew install just
    echo "âœ… just"

    echo "âœ… All prerequisites installed"

[macos]
install-lens:
    #!/bin/bash
    set -e
    if brew list --cask openlens &>/dev/null; then
        echo "âœ… OpenLens is already installed"
    else
        echo "ðŸ“¥ Installing OpenLens via Homebrew..."
        brew install --cask openlens
        echo "âœ… OpenLens installed"
    fi

    just _install-lens-extension

[macos]
lens:
    open -a OpenLens
